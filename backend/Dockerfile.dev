# Dockerfile.dev for backend (Go with air for live reload)
FROM golang:alpine

ENV GOPATH=/go
ENV GOBIN=/go/bin
ENV PATH=$GOBIN:/usr/local/go/bin:$PATH

WORKDIR /app

# git + build dependencies
RUN apk add --no-cache git build-base

# Copy go.mod and go.sum for caching
COPY go.mod go.sum ./
RUN go mod download

# Install air for live reload
RUN go install github.com/air-verse/air@latest

COPY . .

CMD ["air"]